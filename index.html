<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8 at 2018-03-02 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180302" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Spring Data DynamoDB &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

          <link rel="apple-touch-icon-precomposed" sizes="120x120" href="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/apple-touch-icon-120x120.png" />
                <link rel="apple-touch-icon-precomposed" sizes="76x76" href="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/apple-touch-icon-76x76.png" />
                <link rel="apple-touch-icon-precomposed" sizes="152x152" href="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/apple-touch-icon-152x152.png" />
                <link rel="icon" type="image/png" href="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/favicon-196x196.png" sizes="196x196" />
                <link rel="icon" type="image/png" href="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/favicon-96x96.png" sizes="96x96" />
                <link rel="icon" type="image/png" href="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/favicon-32x32.png" sizes="32x32" />
                <link rel="icon" type="image/png" href="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/favicon-16x16.png" sizes="16x16" />
                <link rel="icon" type="image/png" href="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/favicon-128.png" sizes="128x128" />
                <meta name="application-name" content="&nbsp;"/>
                <meta name="msapplication-TileColor" content="#FFFFFF" />
                <meta name="msapplication-TileImage" content="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/mstile-144x144.png" />
                <meta name="msapplication-square70x70logo" content="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/mstile-70x70.png" />
                <meta name="msapplication-square150x150logo" content="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/mstile-150x150.png" />
                <meta name="msapplication-wide310x150logo" content="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/mstile-310x150.png" />
                <meta name="msapplication-square310x310logo" content="//spring-data-dynamodb.github.io/spring-data-dynamodb/favicon/mstile-310x310.png" />
                      </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/spring-data-dynamodb/spring-data-dynamodb">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Spring Data DynamoDB</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="publishDate">Last Published: 2018-03-02
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 5.0.2-SNAPSHOT
                      </li>
                      
              
      
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="https://www.github.com/spring-data-dynamodb/spring-data-dynamodb" class="externalLink" title="Github">
        Github</a>
      </li>

  
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="https://www.openhub.net/p/spring-data-dynamodb" class="externalLink" title="Open Hub">
        Open Hub</a>
      </li>

  
    <li class="pull-right">
                      <a href="https://mvnrepository.com/artifact/com.github.spring-data-dynamodb/spring-data-dynamodb" class="externalLink" title="Maven Central">
        Maven Central</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Main</li>
                              
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                
      <li>
  
                          <a href="contributing.html" title="Contributing">
          <span class="none"></span>
        Contributing</a>
            </li>
                
      <li>
  
                          <a href="donation.html" title="Donation">
          <span class="none"></span>
        Donation</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                  
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-down"></span>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="integration.html" title="CI Management">
          <span class="none"></span>
        CI Management</a>
            </li>
                    
      <li>
  
                          <a href="dependencies.html" title="Dependencies">
          <span class="none"></span>
        Dependencies</a>
            </li>
                    
      <li>
  
                          <a href="dependency-info.html" title="Dependency Information">
          <span class="none"></span>
        Dependency Information</a>
            </li>
                    
      <li>
  
                          <a href="dependency-management.html" title="Dependency Management">
          <span class="none"></span>
        Dependency Management</a>
            </li>
                    
      <li>
  
                          <a href="distribution-management.html" title="Distribution Management">
          <span class="none"></span>
        Distribution Management</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                    
      <li>
  
                          <a href="issue-tracking.html" title="Issue Management">
          <span class="none"></span>
        Issue Management</a>
            </li>
                    
      <li>
  
                          <a href="license.html" title="Licenses">
          <span class="none"></span>
        Licenses</a>
            </li>
                    
      <li>
  
                          <a href="plugin-management.html" title="Plugin Management">
          <span class="none"></span>
        Plugin Management</a>
            </li>
                    
      <li>
  
                          <a href="plugins.html" title="Plugins">
          <span class="none"></span>
        Plugins</a>
            </li>
                    
      <li>
  
                          <a href="team-list.html" title="Team">
          <span class="none"></span>
        Team</a>
            </li>
                    
      <li>
  
                          <a href="source-repository.html" title="Source Code Management">
          <span class="none"></span>
        Source Code Management</a>
            </li>
                    
      <li>
  
                          <a href="project-summary.html" title="Summary">
          <span class="none"></span>
        Summary</a>
            </li>
              </ul>
        </li>
                                                                                                                                          
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="$sitesearchValue" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                         <a href="https://aws.amazon.com/dynamodb/" title="AWS DynamoDB" class="builtBy">
        <img class="builtBy"  alt="AWS DynamoDB" src="images/powered-by/aws.png"   width="155"  />
      </a>
                                                                                                          <a href="http://projects.spring.io/spring-data/" title="Spring Data" class="builtBy">
        <img class="builtBy"  alt="Spring Data" src="images/powered-by/spring.png"   width="155"  />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <p><a class="externalLink" href="https://codecov.io/github/spring-data-dynamodb/spring-data-dynamodb?branch=master"><img src="https://codecov.io/github/spring-data-dynamodb/spring-data-dynamodb/coverage.svg?branch=master" alt="codecov.io" /></a> <a class="externalLink" href="https://travis-ci.org/spring-data-dynamodb/spring-data-dynamodb"><img src="https://travis-ci.org/spring-data-dynamodb/spring-data-dynamodb.svg?branch=master" alt="Build Status" /></a> <a class="externalLink" href="https://maven-badges.herokuapp.com/maven-central/com.github.spring-data-dynamodb/spring-data-dynamodb"><img src="https://maven-badges.herokuapp.com/maven-central/com.github.spring-data-dynamodb/spring-data-dynamodb/badge.svg" alt="Maven Central" /></a> <a href="DONATION.md"><img src="https://img.shields.io/badge/Donate-%F0%9F%92%B8-DAA520.svg" alt="Donation badge" /></a></p>
<h1>Spring  Data DynamoDB</h1>
<img src="https://spring-data-dynamodb.github.io/spring-data-dynamodb/banner/spring-data-dynamodb.png" align="left" alt="" />

<p>The primary goal of the <a class="externalLink" href="http://www.springsource.org/spring-data">Spring&#xae; Data</a> project is to make it easier to build Spring-powered applications that use data access technologies.</p>
<p>This module deals with enhanced support for a data access layer built on <a class="externalLink" href="https://aws.amazon.com/dynamodb/">AWS DynamoDB</a>.</p>
<p>Technical infos can be found on the <a class="externalLink" href="https://spring-data-dynamodb.github.io/spring-data-dynamodb/">project page</a>.</p>
<div class="section">
<h2><a name="Supported_Features"></a>Supported Features</h2>
<ul>

<li>Implementation of CRUD methods for DynamoDB Entities</li>
<li>Dynamic query generation from query method names  (Only a limited number of keywords and comparison operators currently supported)</li>
<li>Possibility to integrate <a class="externalLink" href="https://github.com/spring-data-dynamodb/spring-data-dynamodb/wiki/Custom-repository-implementations">custom repository code</a></li>
<li>Easy Spring annotation based integration</li>
</ul></div>
<div class="section">
<h2><a name="Demo_application"></a>Demo application</h2>
<p>For a demo of spring-data-dynamodb, using spring-data-rest to showcase DynamoDB repositories exposed with REST, please see <a class="externalLink" href="https://github.com/michaellavelle/spring-data-dynamodb-demo">spring-data-dynamodb-demo</a>.</p></div>
<div class="section">
<h2><a name="Version_.26_Spring_Framework_compatibility"></a>Version &amp; Spring Framework compatibility</h2>
<p>The major and minor number of this library refers to the compatible Spring framework version. The build number is used as specified by SEMVER.</p>
<p>API changes will follow SEMVER and loosly the Spring Framework releases.</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> <tt>spring-data-dynamodb</tt> version  </th>
<th> Spring Boot compatibility      </th>
<th>Spring Framework compatibility  </th>
<th> Spring Data compatibility </th></tr>
</thead><tbody>

<tr class="b">
<td> 1.0.x                           </td>
<td>                                </td>
<td> &gt;= 3.1 &amp;&amp; &lt; 4.2                </td>
<td>                           </td></tr>
<tr class="a">
<td> 4.2.x                           </td>
<td> &gt;= 1.3.0 &amp;&amp; &lt; 1.4.0            </td>
<td> &gt;= 4.2 &amp;&amp; &lt; 4.3                </td>
<td> Gosling-SR1               </td></tr>
<tr class="b">
<td> 4.3.x                           </td>
<td> &gt;= 1.4.0 &lt; 2.0                 </td>
<td> &gt;= 4.3 &amp;&amp; &lt; 5.0                </td>
<td> Gosling-SR1               </td></tr>
<tr class="a">
<td> 4.4.x                           </td>
<td> &gt;= 1.4.0 &lt; 2.0                 </td>
<td> &gt;= 4.3 &amp;&amp; &lt; 5.0                </td>
<td> Hopper-SR2                </td></tr>
<tr class="b">
<td> 4.5.x                           </td>
<td> &gt;= 1.4.0 &lt; 2.0                 </td>
<td> &gt;= 4.3 &amp;&amp; &lt; 5.0                </td>
<td> Ingalls                   </td></tr>
<tr class="a">
<td> 5.0.x                           </td>
<td> &gt;= 2.0                         </td>
<td> &gt;= 5.0                         </td>
<td> Kay-SR1                   </td></tr>
</tbody>
</table>
<p><tt>spring-data-dynamodb</tt> depends directly on <tt>spring-data</tt> as also <tt>spring-context</tt>, <tt>spring-data</tt> and <tt>spring-tx</tt>.</p>
<p><tt>compile</tt> and <tt>runtime</tt> dependencies are kept to a minimum to allow easy integartion, for example into Spring-Boot projects.</p></div>
<div class="section">
<h2><a name="Quick_Start"></a>Quick Start</h2>
<p>Download the JAR though <a class="externalLink" href="http://mvnrepository.com/artifact/com.github.spring-data-dynamodb/spring-data-dynamodb">Maven</a>:</p>

<div>
<div>
<pre class="source">&lt;dependency&gt;
  &lt;groupId&gt;com.github.spring-data-dynamodb&lt;/groupId&gt;
  &lt;artifactId&gt;spring-data-dynamodb&lt;/artifactId&gt;
  &lt;version&gt;5.0.1&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>

<p>or via Gradle</p>

<div>
<div>
<pre class="source">repositories {
  mavenCentral()
}

dependencies {
  compile group: 'com.github.spring-data-dynamodb',
  name: 'spring-data-dynamodb',
  version: '5.0.1'
}
</pre></div></div>

<p>Setup DynamoDB configuration as well as enabling Spring Data DynamoDB repository support.</p>

<div>
<div>
<pre class="source">@Configuration
@EnableDynamoDBRepositories(basePackages = &quot;com.acme.repositories&quot;)
public class DynamoDBConfig {

	@Value(&quot;${amazon.dynamodb.endpoint}&quot;)
	private String amazonDynamoDBEndpoint;

	@Value(&quot;${amazon.aws.accesskey}&quot;)
	private String amazonAWSAccessKey;

	@Value(&quot;${amazon.aws.secretkey}&quot;)
	private String amazonAWSSecretKey;

	@Bean
	public AmazonDynamoDB amazonDynamoDB(AWSCredentials amazonAWSCredentials) {
		AmazonDynamoDB amazonDynamoDB = new AmazonDynamoDBClient(amazonAWSCredentials);

		if (StringUtils.isNotEmpty(amazonDynamoDBEndpoint)) {
			amazonDynamoDB.setEndpoint(amazonDynamoDBEndpoint);
		}
		return amazonDynamoDB;
	}

	@Bean
	public AWSCredentials amazonAWSCredentials() {
	    // Or use an AWSCredentialsProvider/AWSCredentialsProviderChain
		return new BasicAWSCredentials(amazonAWSAccessKey, amazonAWSSecretKey);
	}

}
</pre></div></div>

<p>or in XML&#x2026;</p>

<div>
<div>
<pre class="source">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:dynamodb=&quot;http://docs.socialsignin.org/schema/data/dynamodb&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://docs.socialsignin.org/schema/data/dynamodb
                           http://docs.socialsignin.org/schema/data/dynamodb/spring-dynamodb.xsd&quot;&gt;

  &lt;bean id=&quot;amazonDynamoDB&quot; class=&quot;com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient&quot;&gt;
    &lt;constructor-arg ref=&quot;amazonAWSCredentials&quot; /&gt;
    &lt;property name=&quot;endpoint&quot; value=&quot;${amazon.dynamodb.endpoint}&quot; /&gt;
  &lt;/bean&gt;
  
  &lt;bean id=&quot;amazonAWSCredentials&quot; class=&quot;com.amazonaws.auth.BasicAWSCredentials&quot;&gt;
    &lt;constructor-arg value=&quot;${amazon.aws.accesskey}&quot; /&gt;
    &lt;constructor-arg value=&quot;${amazon.aws.secretkey}&quot; /&gt;
  &lt;/bean&gt;
  
  &lt;dynamodb:repositories base-package=&quot;com.acme.repositories&quot; amazon-dynamodb-ref=&quot;amazonDynamoDB&quot; /&gt;
  
&lt;/beans&gt;

</pre></div></div>

<p>Create a DynamoDB hash-key only table in AWS console, with table name <tt>User</tt> and with hash key attribute name <tt>id</tt>.</p>
<p>Create a DynamoDB entity for this table:</p>

<div>
<div>
<pre class="source">@DynamoDBTable(tableName = &quot;User&quot;)
public class User {

  private String id;
  private String firstName;
  private String lastName;

  public User() {
  }
  
  public User(String firstName, String lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
  }

  @DynamoDBHashKey
  @DynamoDBAutoGeneratedKey 
  public String getId() {
	return id;
  }

  @DynamoDBAttribute
  public String getFirstName() {
	return firstName;
  }

  @DynamoDBAttribute
  public String getLastName() {
	return lastName;
  }
       
  public void setId(String id) {
    this.id = id;
  }
  
  public void setFirstName(String firstName) {
    this.firstName = firstName;
  }

  public void setLastName(String lastName) {
    this.lastName = lastName;
  }

  @Override
  public boolean equals(Object o) {
      if (this == o) return true;
      if (o == null || getClass() != o.getClass()) return false;

      User user = (User) o;

      return id.equals(user.id);
  }

  @Override
  public int hashCode() {
      return id.hashCode();
  }
}
</pre></div></div>

<p>Create a CRUD repository interface in <tt>com.acme.repositories</tt>:</p>

<div>
<div>
<pre class="source">package com.acme.repositories;

@EnableScan
public interface UserRepository extends CrudRepository&lt;User, String&gt; {
  List&lt;User&gt; findByLastName(String lastName);
}
</pre></div></div>

<p>or for paging and sorting&#x2026;</p>

<div>
<div>
<pre class="source">package com.acme.repositories;

public interface UserRepository extends PagingAndSortingRepository&lt;User, String&gt; {
  Page&lt;User&gt; findByLastName(String lastName,Pageable pageable);
  
  @EnableScan 
  @EnableScanCount
  public Page&lt;User&gt; findAll(Pageable pageable);
}
</pre></div></div>

<p>And finally write a test client</p>

<div>
<div>
<pre class="source">@RunWith(SpringJUnit4ClassRunner.class)
@SpringApplicationConfiguration(classes = { 
    PropertyPlaceholderAutoConfiguration.class, DynamoDBConfig.class})
    public class UserRepositoryIntegrationTest {
     
    private static final String KEY_NAME = &quot;id&quot;;
    private static final Long READ_CAPACITY_UNITS = 5L;
    private static final Long WRITE_CAPACITY_UNITS = 5L;
    
    @Autowired
    UserRepository repository;
    
    @Autowired
    private AmazonDynamoDB amazonDynamoDB;
    
    @Before
    public void init() throws Exception {
    
        ListTablesResult listTablesResult = amazonDynamoDB.listTables();
    
        listTablesResult.getTableNames().stream().
                filter(tableName -&gt; tableName.equals(User.TABLE_NAME)).forEach(tableName -&gt; {
            amazonDynamoDB.deleteTable(tableName);
        });
    
        List&lt;AttributeDefinition&gt; attributeDefinitions = new ArrayList&lt;AttributeDefinition&gt;();
        attributeDefinitions.add(new AttributeDefinition().withAttributeName(KEY_NAME).withAttributeType(&quot;S&quot;));
    
        List&lt;KeySchemaElement&gt; keySchemaElements = new ArrayList&lt;KeySchemaElement&gt;();
        keySchemaElements.add(new KeySchemaElement().withAttributeName(KEY_NAME).withKeyType(KeyType.HASH));
    
        CreateTableRequest request = new CreateTableRequest()
                .withTableName(TABLE_NAME)
                .withKeySchema(keySchemaElements)
                .withAttributeDefinitions(attributeDefinitions)
                .withProvisionedThroughput(new ProvisionedThroughput().withReadCapacityUnits(READ_CAPACITY_UNITS)
                        .withWriteCapacityUnits(WRITE_CAPACITY_UNITS));
    
        amazonDynamoDB.createTable(request);
    
    }
    
    @Test
    public void sampleTestCase() {
        User dave = new User(&quot;Dave&quot;, &quot;Matthews&quot;);
        repository.save(dave);
    
        User carter = new User(&quot;Carter&quot;, &quot;Beauford&quot;);
        repository.save(carter);
    
        List&lt;User&gt; result = repository.findByLastName(&quot;Matthews&quot;);
        Assert.assertThat(result.size(), is(1));
        Assert.assertThat(result, hasItem(dave));
    }
}
</pre></div></div>
</div>
<div class="section">
<h2><a name="History"></a>History</h2>
<p>The code base has some history already in it - let&#x2019;s clarify it a bit: * The code base was established under <a class="externalLink" href="https://github.com/michaellavelle/spring-data-dynamodb">github.com/michaellavelle/spring-data-dynamodb)</a> * It was forked and further maintained under <a class="externalLink" href="https://github.com/derjust/spring-data-dynamodb">github.com/derjust/spring-data-dynamodb)</a> * Available in Maven Central under <a class="externalLink" href="http://central.maven.org/maven2/com/github/derjust/spring-data-dynamodb/"><tt>com.github.derjust:spring-data-dynamodb</tt></a> * Ultimately transferred to <a class="externalLink" href="https://github.com/spring-data-dynamodb/spring-data-dynamodb">github.com/spring-data-dynamodb/spring-data-dynamodb)</a> * Available in Maven Central under <a class="externalLink" href="http://central.maven.org/maven2/com/github/spring-data-dynamodb/spring-data-dynamodb/"><tt>com.github.spring-data-dynamodb:spring-data-dynamodb</tt></a></p>
<p>The whole Java package never changed from <tt>org.socialsignin.spring.data.dynamodb</tt></p></div>
<div class="section">
<h2><a name="Advanced_topics"></a>Advanced topics</h2>
<p>Advanced topics can be found in the <a class="externalLink" href="https://github.com/spring-data-dynamodb/spring-data-dynamodb/wiki">wiki</a>.</p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2018.
          All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
